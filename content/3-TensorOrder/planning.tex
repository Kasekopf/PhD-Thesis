\section{Planning Phase: Building a Contraction Tree}
\label{sec:tensors:planning}
The task in the planning stage is, given a tensor network, to find a contraction tree that minimizes the computational cost of Algorithm \ref{alg:network-contraction}.
In this section, we first discuss various characterizations of the computational cost of Algorithm \ref{alg:network-contraction} and conclude that, in this context, \emph{max rank} is the appropriate measure.
We then discuss two planning techniques in detail: an existing approach, the \textbf{Line-Graph} planner, and a novel technique specialized for weighted model counting, the \textbf{Factor-Graph} planner. We contribute a new analysis of each planner in terms of max-rank.

% Prior work can be categorized into two types: \emph{exact} algorithms that focus on finding the best possible contraction tree, and \emph{heuristic} algorithms that aim to find a ``good-enough'' contraction tree. Since the number of possible contraction trees is exponential in the number of tensors, exact algorithms are generally best for tensor networks with few tensors while heuristic algorithms scale to larger tensor networks but offer worse contraction trees.

\input{content/3-TensorOrder/planning_quality}
\input{content/3-TensorOrder/planning_line_graph}
\input{content/3-TensorOrder/planning_factor_tree}

